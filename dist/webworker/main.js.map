{"version":3,"sources":["webpack:///./src/prepareData/main.js","webpack:///./src/prepareData/dateOperations.js","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/configuration/__DATASOURCE__.js","webpack:///./src/UI.js","webpack:///./src/configuration/RandomLoadingTexts.js","webpack:///./src/prepareData/generateF.js","webpack:///./src/prepareData/generateColorsAnSizes.js","webpack:///./src/configuration/drawParameters.js"],"names":["jQuery","require","date","__DATA__","UI","isNum","num","isNaN","window","ajax","url","api","logs","error","success","data","updateBigText","updateSmallText","jsonData","generate","json","TypeError","_typeof","obj","key","hasOwnProperty","isObjEmpty","isValid","forEach","element","time","retval","x","y","z","name","dateVisited","test","isElementValid","validateJSON","Error","indices","getIndexDateBounds","getDateLimits","array","slice","removeDatesOutOfBounds","SystemMap","systemMap","ConnectionMap","connectionMap","maxValues","systems","max","connections","map","drawInstructions","filterData","moment","addToBounds","i","bounds","limits","push","module","exports","length","validateURL","split","dates","substring","lastIndexOf","console","time1","time2","valueOf","reverse","warn","prop","removeClass","daterange_txt","format","val","addDateLimitsToSettingsUI","retArr","unix","log","getBounds","./af","./af.js","./ar","./ar-dz","./ar-dz.js","./ar-kw","./ar-kw.js","./ar-ly","./ar-ly.js","./ar-ma","./ar-ma.js","./ar-sa","./ar-sa.js","./ar-tn","./ar-tn.js","./ar.js","./az","./az.js","./be","./be.js","./bg","./bg.js","./bm","./bm.js","./bn","./bn.js","./bo","./bo.js","./br","./br.js","./bs","./bs.js","./ca","./ca.js","./cs","./cs.js","./cv","./cv.js","./cy","./cy.js","./da","./da.js","./de","./de-at","./de-at.js","./de-ch","./de-ch.js","./de.js","./dv","./dv.js","./el","./el.js","./en-SG","./en-SG.js","./en-au","./en-au.js","./en-ca","./en-ca.js","./en-gb","./en-gb.js","./en-ie","./en-ie.js","./en-il","./en-il.js","./en-nz","./en-nz.js","./eo","./eo.js","./es","./es-do","./es-do.js","./es-us","./es-us.js","./es.js","./et","./et.js","./eu","./eu.js","./fa","./fa.js","./fi","./fi.js","./fo","./fo.js","./fr","./fr-ca","./fr-ca.js","./fr-ch","./fr-ch.js","./fr.js","./fy","./fy.js","./ga","./ga.js","./gd","./gd.js","./gl","./gl.js","./gom-latn","./gom-latn.js","./gu","./gu.js","./he","./he.js","./hi","./hi.js","./hr","./hr.js","./hu","./hu.js","./hy-am","./hy-am.js","./id","./id.js","./is","./is.js","./it","./it-ch","./it-ch.js","./it.js","./ja","./ja.js","./jv","./jv.js","./ka","./ka.js","./kk","./kk.js","./km","./km.js","./kn","./kn.js","./ko","./ko.js","./ku","./ku.js","./ky","./ky.js","./lb","./lb.js","./lo","./lo.js","./lt","./lt.js","./lv","./lv.js","./me","./me.js","./mi","./mi.js","./mk","./mk.js","./ml","./ml.js","./mn","./mn.js","./mr","./mr.js","./ms","./ms-my","./ms-my.js","./ms.js","./mt","./mt.js","./my","./my.js","./nb","./nb.js","./ne","./ne.js","./nl","./nl-be","./nl-be.js","./nl.js","./nn","./nn.js","./pa-in","./pa-in.js","./pl","./pl.js","./pt","./pt-br","./pt-br.js","./pt.js","./ro","./ro.js","./ru","./ru.js","./sd","./sd.js","./se","./se.js","./si","./si.js","./sk","./sk.js","./sl","./sl.js","./sq","./sq.js","./sr","./sr-cyrl","./sr-cyrl.js","./sr.js","./ss","./ss.js","./sv","./sv.js","./sw","./sw.js","./ta","./ta.js","./te","./te.js","./tet","./tet.js","./tg","./tg.js","./th","./th.js","./tl-ph","./tl-ph.js","./tlh","./tlh.js","./tr","./tr.js","./tzl","./tzl.js","./tzm","./tzm-latn","./tzm-latn.js","./tzm.js","./ug-cn","./ug-cn.js","./uk","./uk.js","./ur","./ur.js","./uz","./uz-latn","./uz-latn.js","./uz.js","./vi","./vi.js","./x-pseudo","./x-pseudo.js","./yo","./yo.js","./zh-cn","./zh-cn.js","./zh-hk","./zh-hk.js","./zh-tw","./zh-tw.js","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","code","keys","Object","resolve","cmdr","undefined","friends","skybox","galplane","ui","focusElement","markers","default","location","href","stringOrUndefined","jokeTexts","t1","text","Math","floor","random","string","t2","update","createNewConnection","sys1","sys2","getConnectionName","count","overrideIfGreater","value","greaterThanThis","name1","name2","toUpperCase","localeCompare","index","system","el","coords","maxVisits","iterator","sys","connection","points","lines","instructions","color","generateColorsAndSizes","generateColor","size","generatePointSize","position","generatePointInstructions","thisObject","nextObject","nextnextObject","thisConnection","nextConnection","generateLineInstructions","definitions","chroma","Interpolate","set1","set2","valpos","isPoint","minmax","def","useMaxValueFromLogsInstead","maxVal","scale","colorGradient","mode","domain","useSizeMapperInstead","sizeDef","sizeMapper","sizeValues","brokeOut","getSizeMapperSize","useAbsoluteValues","min","minSize","maxSize","minVal"],"mappings":"+VAGA,IAAMA,EAASC,EAAQ,GACjBC,EAAOD,EAAQ,KACfE,EAAWF,EAAQ,KACnBG,EAAKH,EAAQ,KAyHnB,SAASI,EAAMC,GACd,MAAsB,iBAARA,IAAqBC,MAAMD,GArHrB,oBAAXE,QACTR,EAAO,WACNA,EAAOS,KAAK,CACXC,SANmC,IAAtBP,EAASQ,IAAIC,KAAwBT,EAAQ,QAAS,qBAAuBA,EAASQ,IAAIC,KAOvGC,MAAO,WAAQ,KAAM,gFACrBC,QAAS,SAAAC,GACRX,EAAGY,gBACHZ,EAAGa,gBAAgB,6BAevB,SAAoBC,GACnB,IAAMC,EAAWlB,EAAQ,KACzB,IAuCD,SAAsBmB,GACrB,QAAmB,IAATA,EACT,MAAM,IAAIC,UAAU,mFAErB,GAAmB,WAAhBC,EAAOF,GACT,MAAM,IAAIC,UAAU,gGAErB,GAkDD,SAAoBE,GACnB,IAAK,IAAIC,KAAOD,EACf,GAAIA,EAAIE,eAAeD,GACtB,OAAO,EAET,OAAO,EAvDJE,CAAWN,GACb,MAAM,IAAIC,UAAU,mCAErB,IAAIM,GAAU,EAMd,OALAP,EAAKQ,QAAQ,SAAAC,IASd,SAAwBT,GACvB,QAAmB,IAATA,EACT,MAAM,IAAIC,UAAU,iGACf,GAAmB,WAAhBC,EAAOF,GACf,MAAM,IAAIC,UAAU,gGAErB,IAkB4BS,EAlBxBC,GAAS,EAYb,OAXI1B,EAAMe,EAAKY,IAAO3B,EAAMe,EAAKa,IAAO5B,EAAMe,EAAKc,KAClDH,GAAS,GAEc,iBAAdX,EAAKe,OACdJ,GAAS,GAEqB,iBAArBX,EAAKgB,YACdL,GAAS,EAWS,iBADSD,EATIV,EAAKgB,cAcxB,6PACCC,KAAKP,KAdlBC,GAAS,GAEHA,GA1BFO,CAAeT,KAClBF,GAAU,KAGLA,EAvDHY,CAAarB,GAAW,MAAM,IAAIsB,MAAM,6CAC5C,IAAIC,EAAUvC,EAAKwC,mBAAmBxB,EAAShB,EAAKyC,iBACpDzB,EAgCD,SAAgC0B,EAAMH,GACrC,OAAOG,EAAMC,MAAMJ,EAAQ,GAAGA,EAAQ,IAjC3BK,CAAuB5B,EAASuB,GAG3C,IAAIM,EAAY5B,EAAS6B,UAAU9B,GAE/B+B,EAAgB9B,EAAS+B,cAAchC,GACvCiC,EAAY,CAACC,QAASL,EAAUM,IAAIC,YAAaL,EAAcI,KACnEN,EAAYA,EAAUQ,IACtBN,EAAgBA,EAAcM,IAI9B,IAAIC,EAAmBrC,EAASqC,iBAAiBtC,EAAS6B,EAAUE,EAAcE,GA9B/EM,CAAW1C,6BCnBf,IAAM2C,EAASzD,EAAQ,GACjBD,EAASC,EAAQ,GA0EvB,SAAS0D,EAAYC,EAAEC,EAAO/B,EAAKgC,GAOlC,OANIhC,GAAQgC,EAAO,IAClBD,EAAOE,KAAKH,GAET9B,GAAQgC,EAAO,IAClBD,EAAOE,KAAY,IAANH,EAAW,EAAIA,EAAI,GAE1BC,EA9ERG,EAAOC,QAAU,CAChBtB,cAQD,WACC,IAAIjC,EAwEGF,OAAOE,IArEd,GAmCD,SAAqBA,GACpB,GAAmB,iBAARA,EACV,MAAM,IAAIW,UAAU,kCAErB,GAAmB,IAAfX,EAAIwD,OACP,MAAM,IAAI1B,MAAM,+BA1CjB2B,CAAYzD,GAEM,KADlBA,EAAMA,EAAI0D,MAAM,IAAI,IACbF,OAEN,OAAO,EAER,IACIG,EADS3D,EAAI,GAAG4D,UAAU5D,EAAI,GAAG6D,YAAY,UAAU,EAAE7D,EAAI,GAAG6D,YAAY,YAC7DH,MAAM,IAAI,GAC7B,GAAoB,IAAjBC,EAAMH,OAER,OADAM,QAAQ3D,MAAM,yDACP,EAoCwB4D,EAlCJJ,EAAM,GAkCIK,EAlCDL,EAAM,GAmCnCI,EAAME,UAAYD,EAAMC,YAjC/BN,EAAQA,EAAMO,UACdJ,QAAQK,KAAK,4DA+Bf,IAAiCJ,EAAMC,GAvBvC,SAAmCL,GAClCrE,EAAO,kCAAkC8E,KAAK,WAAW,GACzD9E,EAAO,cAAc+E,YAAY,UACjC,IAAIC,EAAiBtB,EAAOW,EAAM,IAAIY,OAAO,cAAiB,MAAMvB,EAAOW,EAAM,IAAIY,OAAO,eAC5FjF,EAAO,cAAckF,IAAIF,GAVzBG,CAA0Bd,GAC1B,IAAIe,EAAS,CAAC1B,EAAO2B,KAAKhB,EAAM,IAAIgB,OAAQ3B,EAAO2B,KAAKhB,EAAM,IAAIgB,QAElE,OADAb,QAAQc,IAAIF,GACLA,GA7BP1C,mBAwCD,SAA4B3B,EAAK+C,GAGhC,OAgBD,SAAmB/C,EAAK+C,GAEvB,IADA,IAAID,EAAS,GACLD,EAAI,EAAEA,EAAE7C,EAAKmD,OAAO,EAAEN,IAAI,CACjC,IAAI9B,EAAO4B,EAAO3C,EAAK6C,GAAGxB,aAAaiD,OAEvCxB,EAASF,EAAYC,EAAEC,EAAO/B,EAAKgC,GAEpC,OAAOD,EAxBM0B,CAAUxE,EAAM+C,0BChD9B,IAAAP,EAAA,CACAiC,OAAA,EACAC,UAAA,EACAC,OAAA,EACAC,UAAA,EACAC,aAAA,EACAC,UAAA,EACAC,aAAA,EACAC,UAAA,EACAC,aAAA,EACAC,UAAA,EACAC,aAAA,EACAC,UAAA,EACAC,aAAA,EACAC,UAAA,EACAC,aAAA,EACAC,UAAA,EACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,aAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,aAAA,GACAC,gBAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,UAAA,GACAC,aAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,UAAA,GACAC,aAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,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","file":"/dist/webworker/main.js","sourcesContent":["//This file will probably be executed by a webworker in the background.\r\n\r\n\r\nconst jQuery = require(\"jquery\");\r\nconst date = require(\"./dateOperations\");\r\nconst __DATA__ = require(\"../configuration/__DATASOURCE__\");\r\nconst UI = require(\"../UI\");\r\nlet getURLForLogs = () => {\r\n\treturn (typeof __DATA__.api.logs === \"undefined\") ? __DATA__.default+\"src/data/logs.json\" : __DATA__.api.logs;\r\n};\r\n//dont crash in tests\r\nif(typeof window !== \"undefined\"){\r\n\tjQuery(() => {\r\n\t\tjQuery.ajax({\r\n\t\t\turl: getURLForLogs(),\r\n\t\t\terror: () => { throw \"Failed to get the Travel History from EDSM. Please submit an Issue on Github\"; },\r\n\t\t\tsuccess: data => {\r\n\t\t\t\tUI.updateBigText();\r\n\t\t\t\tUI.updateSmallText(\"Processing travel history\");\r\n\t\t\t\tfilterData(data);\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n}\r\n\r\n\r\n\r\n\r\n/**\r\n *\r\n *\r\n * @param {Array} jsonData An Array that represents the players entire travel log. \r\n */\r\nfunction filterData(jsonData){\r\n\tconst generate = require(\"./generateF\");\r\n\tif(!validateJSON(jsonData)){throw new Error(\"Passed Logs have an unexpected structure.\");}\r\n\tlet indices = date.getIndexDateBounds(jsonData,date.getDateLimits());\r\n\tjsonData = removeDatesOutOfBounds(jsonData,indices);\r\n\t\r\n\t//An Object holdings all Systems with coords, name and amount of visits\r\n\tlet SystemMap = generate.systemMap(jsonData);\r\n\t//An Object holding all connections with name and amount of visits\r\n\tlet ConnectionMap = generate.connectionMap(jsonData);\r\n\tlet maxValues = {systems: SystemMap.max,connections: ConnectionMap.max};\r\n\tSystemMap = SystemMap.map;\r\n\tConnectionMap = ConnectionMap.map;\r\n\t//This will be used to draw the actual data onto the THREE canvas. \r\n\t//It has two objects, \"systems\" and \"connections\" and is fed to\r\n\t//the CanvasInterface to draw the points.\r\n\tlet drawInstructions = generate.drawInstructions(jsonData,SystemMap,ConnectionMap,maxValues);\r\n\tlet data = {\r\n\t\tlogs: jsonData,\r\n\t\tmaps: {\r\n\t\t\tsystems: SystemMap,\r\n\t\t\tconnections: ConnectionMap\r\n\t\t},\r\n\t\tdrawInstructions: drawInstructions\r\n\t};\r\n\treturn data;\r\n}\r\n\r\n\r\n/**\r\n * Returns the Array without the data that is not looked at.\r\n *\r\n * @param {Array} array\r\n * @param {number[]} indices\r\n * @returns {Array}\r\n */\r\nfunction removeDatesOutOfBounds(array,indices){\r\n\treturn array.slice(indices[0],indices[1]);\r\n}\r\n\r\n\r\nfunction validateJSON(json){\r\n\tif(typeof json === \"undefined\"){\r\n\t\tthrow new TypeError(\"No argument has been passed. This method needs the logs as object to be passed.\");\r\n\t}\r\n\tif(typeof json !== \"object\"){\r\n\t\tthrow new TypeError(\"Passed argument needs to be typeof object. An object that represents an entry from the logs.\");\r\n\t}\r\n\tif(isObjEmpty(json)){\r\n\t\tthrow new TypeError(\"An empty object has been passed\");\r\n\t}\r\n\tlet isValid = true;\r\n\tjson.forEach(element => {\r\n\t\tif(!isElementValid(element)){\r\n\t\t\tisValid = false;\r\n\t\t}\r\n\t});\r\n\treturn isValid;\r\n}\r\n\r\n\r\nfunction isElementValid(json){\r\n\tif(typeof json === \"undefined\"){\r\n\t\tthrow new TypeError(\"No argument has been passed. This method needs an entry from the logs as object to be passed.\");\r\n\t}else if(typeof json !== \"object\"){\r\n\t\tthrow new TypeError(\"Passed argument needs to be typeof object. An object that represents an entry from the logs.\");\r\n\t}\r\n\tlet retval = true;\r\n\tif(!isNum(json.x) || !isNum(json.y) || !isNum(json.z)) {\r\n\t\tretval = false;\r\n\t}\r\n\tif(typeof json.name !== \"string\"){\r\n\t\tretval = false;\r\n\t}\r\n\tif(typeof json.dateVisited !== \"string\"){\r\n\t\tretval = false;\r\n\t} else if (!isTimeInRightFormat(json.dateVisited)){\r\n\t\tretval = false;\r\n\t}\r\n\treturn retval;\r\n}\r\n/**\r\n\r\n * @param {string} time\r\n */\r\nfunction isTimeInRightFormat(time){\r\n\tif(typeof time !== \"string\"){\r\n\t\treturn false;\r\n\t}\r\n\t//from https://gist.github.com/x-strong/5378739\r\n\tlet regexp = /^(?:(?!0000)[0-9]{4}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)\\s([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$/;\r\n\treturn regexp.test(time);\r\n}\r\n\r\nfunction isNum(num){\r\n\treturn typeof num === \"number\" && !isNaN(num);\r\n}\r\n\r\nfunction isObjEmpty(obj) {\r\n\tfor (var key in obj) {\r\n\t\tif (obj.hasOwnProperty(key))\r\n\t\t\treturn false;\r\n\t}\r\n\treturn true;\r\n}","const moment = require(\"moment\");\r\nconst jQuery = require(\"jquery\");\r\n\r\n\r\nmodule.exports = {\r\n\tgetDateLimits: getDateLimits,\r\n\tgetIndexDateBounds: getIndexDateBounds\r\n};\r\n\r\n\r\n/**\r\n * @exports [number,number]\r\n */\r\nfunction getDateLimits(){\r\n\tlet url = getURL();\r\n\tvalidateURL(url);\r\n\turl = url.split(\"?\",2);\r\n\tif(url.length === 1){\r\n\t\t// No Date limiters\r\n\t\treturn false;\r\n\t}\r\n\tlet params = url[1].substring(url[1].lastIndexOf(\"[DATE]\")+6,url[1].lastIndexOf(\"[/DATE]\"));\r\n\tlet dates = params.split(\";\",2);\r\n\tif(dates.length !== 2){\r\n\t\tconsole.error(\"URL is set up incorrect. Ignoring filtering by date.\");\r\n\t\treturn false;\r\n\t}\r\n\tif (isTimeAGreaterThanTimeB(dates[0],dates[1])){\r\n\t\t\r\n\t\tdates = dates.reverse();\r\n\t\tconsole.warn(\"First date was greater than last date. Reversing order.\");\r\n\t}\r\n\taddDateLimitsToSettingsUI(dates);\r\n\tlet retArr = [moment.unix(dates[0]).unix(), moment.unix(dates[1]).unix()];\r\n\tconsole.log(retArr);\r\n\treturn retArr;\r\n\r\n}\r\nfunction addDateLimitsToSettingsUI(dates){\r\n\tjQuery(\"#check_limit_selection > input\").prop(\"checked\", true);\r\n\tjQuery(\"#daterange\").removeClass(\"hidden\");\r\n\tlet daterange_txt = (moment(dates[0]).format(\"YYYY-MM-DD\")) + \" - \"(moment(dates[0]).format(\"YYYY-MM-DD\"));\r\n\tjQuery(\"#daterange\").val(daterange_txt);\r\n}\r\n\r\n\r\nfunction getIndexDateBounds(data,limits){\r\n\t//Get Lower Bound\r\n\tlet retArr = getBounds(data, limits);\r\n\treturn retArr;\r\n}\r\n\r\nfunction validateURL(url){\r\n\tif (typeof url !== \"string\") {\r\n\t\tthrow new TypeError(\"Given URL is not typeof string\");\r\n\t}\r\n\tif (url.length === 0) {\r\n\t\tthrow new Error(\"Given URL string is 0 long.\");\r\n\t}\r\n}\r\n\r\nfunction isTimeAGreaterThanTimeB(time1,time2){\r\n\treturn (time1.valueOf() > time2.valueOf()) ? true : false;\t\r\n}\r\n\r\nfunction getBounds(data,limits) {\r\n\tlet bounds = [];\r\n\tfor(let i = 0;i<data.length-1;i++){\r\n\t\tlet time = moment(data[i].dateVisited).unix();\r\n\t\t//Look for left bound. If true. Left bound found.\r\n\t\tbounds = addToBounds(i,bounds,time,limits);\r\n\t}\r\n\treturn bounds;\r\n}\r\n\r\nfunction addToBounds(i,bounds,time,limits){\r\n\tif (time >= limits[0])\r\n\t\tbounds.push(i);\r\n\r\n\tif (time >= limits[1])\r\n\t\tbounds.push((i === 0) ? 0 : i - 1);\r\n\r\n\treturn bounds;\r\n}\r\n\r\nfunction getURL(){\r\n\treturn window.url;\r\n}","var map = {\n\t\"./af\": 2,\n\t\"./af.js\": 2,\n\t\"./ar\": 3,\n\t\"./ar-dz\": 4,\n\t\"./ar-dz.js\": 4,\n\t\"./ar-kw\": 5,\n\t\"./ar-kw.js\": 5,\n\t\"./ar-ly\": 6,\n\t\"./ar-ly.js\": 6,\n\t\"./ar-ma\": 7,\n\t\"./ar-ma.js\": 7,\n\t\"./ar-sa\": 8,\n\t\"./ar-sa.js\": 8,\n\t\"./ar-tn\": 9,\n\t\"./ar-tn.js\": 9,\n\t\"./ar.js\": 3,\n\t\"./az\": 10,\n\t\"./az.js\": 10,\n\t\"./be\": 11,\n\t\"./be.js\": 11,\n\t\"./bg\": 12,\n\t\"./bg.js\": 12,\n\t\"./bm\": 13,\n\t\"./bm.js\": 13,\n\t\"./bn\": 14,\n\t\"./bn.js\": 14,\n\t\"./bo\": 15,\n\t\"./bo.js\": 15,\n\t\"./br\": 16,\n\t\"./br.js\": 16,\n\t\"./bs\": 17,\n\t\"./bs.js\": 17,\n\t\"./ca\": 18,\n\t\"./ca.js\": 18,\n\t\"./cs\": 19,\n\t\"./cs.js\": 19,\n\t\"./cv\": 20,\n\t\"./cv.js\": 20,\n\t\"./cy\": 21,\n\t\"./cy.js\": 21,\n\t\"./da\": 22,\n\t\"./da.js\": 22,\n\t\"./de\": 23,\n\t\"./de-at\": 24,\n\t\"./de-at.js\": 24,\n\t\"./de-ch\": 25,\n\t\"./de-ch.js\": 25,\n\t\"./de.js\": 23,\n\t\"./dv\": 26,\n\t\"./dv.js\": 26,\n\t\"./el\": 27,\n\t\"./el.js\": 27,\n\t\"./en-SG\": 28,\n\t\"./en-SG.js\": 28,\n\t\"./en-au\": 29,\n\t\"./en-au.js\": 29,\n\t\"./en-ca\": 30,\n\t\"./en-ca.js\": 30,\n\t\"./en-gb\": 31,\n\t\"./en-gb.js\": 31,\n\t\"./en-ie\": 32,\n\t\"./en-ie.js\": 32,\n\t\"./en-il\": 33,\n\t\"./en-il.js\": 33,\n\t\"./en-nz\": 34,\n\t\"./en-nz.js\": 34,\n\t\"./eo\": 35,\n\t\"./eo.js\": 35,\n\t\"./es\": 36,\n\t\"./es-do\": 37,\n\t\"./es-do.js\": 37,\n\t\"./es-us\": 38,\n\t\"./es-us.js\": 38,\n\t\"./es.js\": 36,\n\t\"./et\": 39,\n\t\"./et.js\": 39,\n\t\"./eu\": 40,\n\t\"./eu.js\": 40,\n\t\"./fa\": 41,\n\t\"./fa.js\": 41,\n\t\"./fi\": 42,\n\t\"./fi.js\": 42,\n\t\"./fo\": 43,\n\t\"./fo.js\": 43,\n\t\"./fr\": 44,\n\t\"./fr-ca\": 45,\n\t\"./fr-ca.js\": 45,\n\t\"./fr-ch\": 46,\n\t\"./fr-ch.js\": 46,\n\t\"./fr.js\": 44,\n\t\"./fy\": 47,\n\t\"./fy.js\": 47,\n\t\"./ga\": 48,\n\t\"./ga.js\": 48,\n\t\"./gd\": 49,\n\t\"./gd.js\": 49,\n\t\"./gl\": 50,\n\t\"./gl.js\": 50,\n\t\"./gom-latn\": 51,\n\t\"./gom-latn.js\": 51,\n\t\"./gu\": 52,\n\t\"./gu.js\": 52,\n\t\"./he\": 53,\n\t\"./he.js\": 53,\n\t\"./hi\": 54,\n\t\"./hi.js\": 54,\n\t\"./hr\": 55,\n\t\"./hr.js\": 55,\n\t\"./hu\": 56,\n\t\"./hu.js\": 56,\n\t\"./hy-am\": 57,\n\t\"./hy-am.js\": 57,\n\t\"./id\": 58,\n\t\"./id.js\": 58,\n\t\"./is\": 59,\n\t\"./is.js\": 59,\n\t\"./it\": 60,\n\t\"./it-ch\": 61,\n\t\"./it-ch.js\": 61,\n\t\"./it.js\": 60,\n\t\"./ja\": 62,\n\t\"./ja.js\": 62,\n\t\"./jv\": 63,\n\t\"./jv.js\": 63,\n\t\"./ka\": 64,\n\t\"./ka.js\": 64,\n\t\"./kk\": 65,\n\t\"./kk.js\": 65,\n\t\"./km\": 66,\n\t\"./km.js\": 66,\n\t\"./kn\": 67,\n\t\"./kn.js\": 67,\n\t\"./ko\": 68,\n\t\"./ko.js\": 68,\n\t\"./ku\": 69,\n\t\"./ku.js\": 69,\n\t\"./ky\": 70,\n\t\"./ky.js\": 70,\n\t\"./lb\": 71,\n\t\"./lb.js\": 71,\n\t\"./lo\": 72,\n\t\"./lo.js\": 72,\n\t\"./lt\": 73,\n\t\"./lt.js\": 73,\n\t\"./lv\": 74,\n\t\"./lv.js\": 74,\n\t\"./me\": 75,\n\t\"./me.js\": 75,\n\t\"./mi\": 76,\n\t\"./mi.js\": 76,\n\t\"./mk\": 77,\n\t\"./mk.js\": 77,\n\t\"./ml\": 78,\n\t\"./ml.js\": 78,\n\t\"./mn\": 79,\n\t\"./mn.js\": 79,\n\t\"./mr\": 80,\n\t\"./mr.js\": 80,\n\t\"./ms\": 81,\n\t\"./ms-my\": 82,\n\t\"./ms-my.js\": 82,\n\t\"./ms.js\": 81,\n\t\"./mt\": 83,\n\t\"./mt.js\": 83,\n\t\"./my\": 84,\n\t\"./my.js\": 84,\n\t\"./nb\": 85,\n\t\"./nb.js\": 85,\n\t\"./ne\": 86,\n\t\"./ne.js\": 86,\n\t\"./nl\": 87,\n\t\"./nl-be\": 88,\n\t\"./nl-be.js\": 88,\n\t\"./nl.js\": 87,\n\t\"./nn\": 89,\n\t\"./nn.js\": 89,\n\t\"./pa-in\": 90,\n\t\"./pa-in.js\": 90,\n\t\"./pl\": 91,\n\t\"./pl.js\": 91,\n\t\"./pt\": 92,\n\t\"./pt-br\": 93,\n\t\"./pt-br.js\": 93,\n\t\"./pt.js\": 92,\n\t\"./ro\": 94,\n\t\"./ro.js\": 94,\n\t\"./ru\": 95,\n\t\"./ru.js\": 95,\n\t\"./sd\": 96,\n\t\"./sd.js\": 96,\n\t\"./se\": 97,\n\t\"./se.js\": 97,\n\t\"./si\": 98,\n\t\"./si.js\": 98,\n\t\"./sk\": 99,\n\t\"./sk.js\": 99,\n\t\"./sl\": 100,\n\t\"./sl.js\": 100,\n\t\"./sq\": 101,\n\t\"./sq.js\": 101,\n\t\"./sr\": 102,\n\t\"./sr-cyrl\": 103,\n\t\"./sr-cyrl.js\": 103,\n\t\"./sr.js\": 102,\n\t\"./ss\": 104,\n\t\"./ss.js\": 104,\n\t\"./sv\": 105,\n\t\"./sv.js\": 105,\n\t\"./sw\": 106,\n\t\"./sw.js\": 106,\n\t\"./ta\": 107,\n\t\"./ta.js\": 107,\n\t\"./te\": 108,\n\t\"./te.js\": 108,\n\t\"./tet\": 109,\n\t\"./tet.js\": 109,\n\t\"./tg\": 110,\n\t\"./tg.js\": 110,\n\t\"./th\": 111,\n\t\"./th.js\": 111,\n\t\"./tl-ph\": 112,\n\t\"./tl-ph.js\": 112,\n\t\"./tlh\": 113,\n\t\"./tlh.js\": 113,\n\t\"./tr\": 114,\n\t\"./tr.js\": 114,\n\t\"./tzl\": 115,\n\t\"./tzl.js\": 115,\n\t\"./tzm\": 116,\n\t\"./tzm-latn\": 117,\n\t\"./tzm-latn.js\": 117,\n\t\"./tzm.js\": 116,\n\t\"./ug-cn\": 118,\n\t\"./ug-cn.js\": 118,\n\t\"./uk\": 119,\n\t\"./uk.js\": 119,\n\t\"./ur\": 120,\n\t\"./ur.js\": 120,\n\t\"./uz\": 121,\n\t\"./uz-latn\": 122,\n\t\"./uz-latn.js\": 122,\n\t\"./uz.js\": 121,\n\t\"./vi\": 123,\n\t\"./vi.js\": 123,\n\t\"./x-pseudo\": 124,\n\t\"./x-pseudo.js\": 124,\n\t\"./yo\": 125,\n\t\"./yo.js\": 125,\n\t\"./zh-cn\": 126,\n\t\"./zh-cn.js\": 126,\n\t\"./zh-hk\": 127,\n\t\"./zh-hk.js\": 127,\n\t\"./zh-tw\": 128,\n\t\"./zh-tw.js\": 128\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 133;","module.exports = {\r\n//Replace undefined with a URL pointing to the ressource folder / api endpoint to override the default parameter. For example cmdr: \"http://\"\r\n\tapi: {\r\n\t\tcmdr: undefined,\r\n\t\tfriends: undefined,\r\n\t\tlogs: undefined\r\n\t},\r\n\tskybox: undefined,\r\n\tgalplane: undefined,\r\n\tui: {\r\n\t\tfocusElement: undefined,\r\n\t\tmarkers: undefined\r\n\t},\r\n\tdefault: (typeof window !== \"undefined\" )?(window.location.href).split(\"?\")[0]:undefined\r\n};","/* eslint-disable no-console */\r\n\"use strict\";\r\nconst jQuery = require(\"jquery\");\r\n\r\n\r\nmodule.exports = {\r\n\tupdateBigText: updateBigText,\r\n\tupdateSmallText: updateSmallText,\r\n\tupdate: update\r\n};\r\n\r\n\r\n/**\r\n *\r\n * Writes either a given string or a random text to the big loading text \r\n * @param {string|undefined} stringOrUndefined String to display. Dont pass anything to chose a random one.\r\n */\r\nfunction  updateBigText(stringOrUndefined) {\r\n\tconst jokeTexts = require(\"./configuration/RandomLoadingTexts\");\r\n\tlet t1 = jQuery(\"#loader_text_big\");\r\n\tlet text = (typeof stringOrUndefined === \"string\") ? \r\n\t\tstringOrUndefined : \r\n\t\tjokeTexts[Math.floor(Math.random()*jokeTexts.length)];\r\n\tt1.text(text);\r\n}\r\n\r\n\r\n/** \r\n * Updates the Name, Index and Date of a Log Entry to be seen in the UI.\r\n */\r\n//TODO!!! Uncomment when the time is right ;)\r\nfunction update(){}\r\n/*\r\n\r\nfunction update () {\r\n\tconst canvasInterface = require(\"./canvasInterface\");\r\n\tlet count = canvasInterface.getFocusIndex();\r\n\tlet data = canvasInterface.getSystemInFocus();\r\n\tjQuery(\"#nav_sysname\").text(data.name);\r\n\tjQuery(\"#nav_sysdate\").text(data.date);\r\n\tjQuery(\"#nav_systemid\").text(count.toString()+\" / \"+(canvasInterface.getLogList().length-1).toString());\r\n}\r\n*/\r\n\r\n/**\r\n *\r\n * Writes a given string to the small loading text. When given a value that is not a string, nothing will be displayed.\r\n * @param {string} string String to display. \r\n */\r\nfunction updateSmallText(string){\r\n\tlet t2 = jQuery(\"#loader_text_small\");\r\n\tlet text;\r\n\tif(typeof string === \"string\"){\r\n\t\ttext = string;\r\n\t}else{\r\n\t\ttext = \"\";\r\n\t\tconsole.warn(\"No String has been passed to UI.updateText2\");\r\n\t}\r\n\tt2.text(text);\r\n}","module.exports = [\r\n\t\"Friendship Drive charging\",\r\n\t\"Honking ADS\",\r\n\t\"Finding Raxxla\",\r\n\t\"Taking pictures of Asps in front of things\",\r\n\t\"Fuelscooping\",\r\n\t\"Repairing FSD\",\r\n\t\"Hiding the cookie jar\",\r\n\t\"Calling the Fuel Rats\",\r\n\t\"Lithobraking\",\r\n\t\"Looking for an ELW\",\r\n\t\"Supercharging the FSD\"\r\n\t];","module.exports = {\r\n\tsystemMap: systemMap,\r\n\tconnectionMap: connectionMap,\r\n\tdrawInstructions: drawInstructions\r\n};\r\n\r\nfunction systemMap(json){\r\n\tlet systems = {};\r\n\tlet max = 1;\r\n\tfor(let index = 0;index < json.length;index++){\r\n\t\tlet element = json[index];\r\n\t\tlet system = {};\r\n\t\tif(typeof system !== \"undefined\"){\r\n\t\t\t//Element exists\r\n\t\t\tsystem.count++;\r\n\t\t\tmax = overrideIfGreater(system.count);\r\n\t\t}else{\r\n\t\t\t//Create new element\r\n\t\t\tsystem = createNewSystem(element);\r\n\t\t}\r\n\t\tsystems[system.name] = system;\r\n\r\n\t}\r\n\treturn {map: systems,max: max};\r\n\t\r\n}\r\n\r\nfunction createNewSystem(el){\r\n\treturn {\r\n\t\tname: el.name,\r\n\t\tcount : 1,\r\n\t\t//divide all values by 32 because EDSM stores them as Integers. We need floating point numbers though.\r\n\t\tcoords: {\r\n\t\t\tx: el.x / 32,\r\n\t\t\ty: el.y / 32,\r\n\t\t\tz: el.z / 32\r\n\t\t}\r\n\t};\r\n}\r\n\r\n\r\n\r\n\r\nfunction connectionMap(json){\r\n\tlet connectionMap = {};\r\n\tlet maxVisits = 1;\r\n\tfor(let iterator = 0;iterator < json.length-1;iterator++){\r\n\t\tlet sys = [json[iterator], json[iterator + 1]];\r\n\t\t\r\n\t\tlet name = getConnectionName(sys[1],sys[2],connectionMap);\r\n\t\tlet connection = connectionMap[name];\r\n\t\tif(typeof connection === \"undefined\"){\r\n\t\t\tcreateNewConnection(sys[1],sys[2]);\r\n\t\t}else{\r\n\t\t\tconnection.count++;\r\n\t\t\tmaxVisits = overrideIfGreater(connection.count,maxVisits);\r\n\t\t}\r\n\t}\r\n\treturn {map: connectionMap,max: maxVisits};\r\n}\r\nfunction createNewConnection(sys1,sys2,connectionMap){\r\n\tlet name = getConnectionName(sys1.name, sys2.name);\r\n\r\n\tconnectionMap[name] = {\r\n\t\tname: name,\r\n\t\tcount: 1\r\n\t};\r\n\r\n}\r\n\r\nfunction overrideIfGreater(value,greaterThanThis){\r\n\treturn (value > greaterThanThis) ? value : greaterThanThis;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n *\r\n *\r\n * @param {string} name1\r\n * @param {string} name2\r\n * @returns {string} The name that describes the connection between the two given systems.\r\n */\r\nfunction getConnectionName(name1,name2){\r\n\tlet comparision = name1.toUpperCase().localeCompare(name2.toUpperCase());\r\n\tif(comparision === 1){\r\n\t\treturn name1+\":\"+name2;\r\n\t}else{\r\n\t\treturn name2+\":\"+name1;\r\n\t}\r\n\r\n}\r\n\r\nlet generateColorsAndSizes = require(\"./generateColorsAnSizes\");\r\n\r\nfunction drawInstructions(json,points,lines,maxVisits){\r\n\t//An Object w/ 2 Arrays. One for systems, and one for Connections\r\n\tlet instructions = {};\r\n\tinstructions.points = generatePointInstructions(points,maxVisits.systems);\r\n\tinstructions.lines = generateLineInstructions(json,lines,points,maxVisits.connections);\r\n\treturn instructions;\r\n}\r\n\r\n\r\nfunction generatePointInstructions(obj,maxValues){\r\n\tlet retArr = [];\r\n\tfor(let key in obj){\r\n\t\tif(!obj.hasOwnProperty(key)){continue;}\r\n\t\tlet element = obj[key];\r\n\t\tlet coords = element.coords;\r\n\t\tlet count = element.count;\r\n\r\n\t\tretArr.push({\r\n\t\t\tcolor: generateColorsAndSizes.generateColor(count,true,maxValues),\r\n\t\t\tsize: generateColorsAndSizes.generatePointSize(count,maxValues),\r\n\t\t\tposition: coords\r\n\t\t});\r\n\r\n\t}\r\n\treturn retArr;\r\n}\r\n/**\r\n *\r\n *\r\n * @param {[]} json\r\n * @param {object} obj\r\n * @param {number} maxValues\r\n */\r\nfunction generateLineInstructions(json,lines,points,maxValues){\r\n\tlet retArr = [];\r\n\tfor(let iterator = 0;iterator<json.length-2; iterator++){\r\n\t\t/*\r\n\t\t*\tFor Each Connection, check if next connection has the same visitCount.\r\n\t\t*\tIf not, create a new point first with the next connections color. This is to ensure that there is no color change inside a connection\r\n\t\t*/\r\n\t\tlet thisObject = json[iterator],nextObject = json[iterator+1],nextnextObject = json[iterator+2];\r\n\t\t//Check if this connection and the next connection have the same count of travels. If yes, there is no need to add another vertex inbetween.\r\n\t\tlet thisConnection = lines[getConnectionName(thisObject.name,nextObject.name)];\r\n\t\tlet nextConnection = lines[getConnectionName(nextObject.name,nextnextObject.name)];\r\n\t\t//The next connection will have the same color → No need to add a vertex inbetween. Only add the first Point of the connection\r\n\t\t\r\n\t\tlet color = generateColorsAndSizes.generateColor(thisConnection.count,false,maxValues);\r\n\t\tlet position = points[thisConnection.name].coords;\r\n\t\tretArr.push({color:color,coords:position});\r\n\t\tif (thisConnection.count !== nextConnection.count){\r\n\t\t\tretArr.push({color:color,coords:points[nextConnection.name].coords});\r\n\t\t}\r\n\t\tif(iterator === json.length-2){\r\n\t\t\t//Last loop.\r\n\t\t\t//Add the last connection\r\n\t\t\tlet color = generateColorsAndSizes.generateColor(nextConnection);\r\n\t\t\tretArr.push(\r\n\t\t\t\t{color:color,coords:points[nextObject.name].coords},\r\n\t\t\t\t{color:color,coords:points[nextnextObject.name].coords}\r\n\t\t\t);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\treturn retArr;\r\n}","let definitions = require(\"../configuration/drawParameters\");\r\nlet chroma = require(\"chroma-js\");\r\nmodule.exports = {generateColor:generateColor,generatePointSize:generatePointSize};\r\n\r\n\r\nfunction generateColor(value,isPoint,maxVisits){\r\n\tlet minmax = [];\r\n\tlet def = (isPoint) ? definitions.systems.color : definitions.connections.color;\r\n\tminmax[0] = (def.useMaxValueFromLogsInstead) ? maxVisits : def.maxVal;\r\n\tminmax[1] = def.maxVal;\r\n\tlet color = chroma.scale(def.colorGradient).mode(\"lab\").domain(minmax[0],minmax[1]);\r\n\treturn color(value).num();\r\n}\r\n\r\nfunction generatePointSize(value,maxVisits){\r\n\tlet def = definitions.systems.size;\r\n\t\r\n\tif(def.useSizeMapperInstead){\r\n\t\treturn getSizeMapperSize((def.sizeMapper.useAbsoluteValues)?value:value/maxVisits);\r\n\t}else{\r\n\t\tlet min = def.minSize,max = def.maxSize;\r\n\t\treturn Interpolate(value,[0,maxVisits],[min,max]);\r\n\t\t\r\n\t}\r\n}\r\n\r\n/**\r\n *\r\n *\r\n * @param {number} expects a number between 0 and 1 if useAbsoluteValues is off and a value > 0 if it is on.\r\n */\r\nfunction getSizeMapperSize(value){\r\n\tlet sizeDef = definitions.systems.size.sizeMapper.sizeValues;\r\n\tlet index = 0;\r\n\tlet brokeOut = false;\r\n\tfor(index;index < sizeDef.length;index++){\r\n\t\tif(sizeDef[index][0] >= value){\r\n\t\t\tbrokeOut = true;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\t//Extremas\r\n\tif(!brokeOut){\r\n\t\treturn sizeDef[index][1];\r\n\t}\r\n\tif(index === 0){\r\n\t\treturn sizeDef[0][1];\r\n\t}\r\n\t//Interpolate \r\n\treturn Interpolate(value, [sizeDef[index - 1][0], sizeDef[index][0]], [sizeDef[index - 1][1], sizeDef[index][1]]);\r\n}\r\n\r\n/**\r\n *Interpolate value between set1 and apply the value onto set2.\r\n * @param {number} value\r\n * @param {number[]} set1 -> consists of 2 numbers\r\n * @param {number[]} set2 -> consists of 2 numbers\r\n */\r\nfunction Interpolate(value,set1,set2){\r\n\tif(value <= set1[0]){return set2[0];}\r\n\tif(value >= set1[1]){return set2[1];}\r\n\t//Values position between the two values in set1 (0 -> at index 0 || 1 -> at index 1)\r\n\tlet valpos = (value-set1[0])/(set1[1]-set1[0]);\r\n\treturn set2[0]+(set2[1]-set2[0])*valpos;\r\n}","//This is the configuration which determines how systems and connections are drawn on the map.\r\n\r\nmodule.exports = {\r\n\tsystems:{\r\n\t\tcolor:{\r\n\t\t\tcolorGradient: [0x66000E,0x07DB00], \r\n\t\t\tminVal: 0,\r\n\t\t\tmaxVal: 100,\r\n\t\t\t//If this is set, maxVal will be overwritten with whatever is the maximum from the logs.\r\n\t\t\tuseMaxValueFromLogsInstead: true\r\n\t\t},\r\n\t\tsize:{\r\n\t\t\tminSize: 1,\r\n\t\t\tmaxSize: 10,\r\n\t\t\t//If this is true, the more complex SizeMapper will be used instead\r\n\t\t\tuseSizeMapperInstead: true,\r\n\t\t\tsizeMapper: {\r\n\t\t\t\t//This will expect the actual visits (for example 92) rather than a value between 0 and 1\r\n\t\t\t\tuseAbsoluteValues: true,\r\n\t\t\t\t//Here you enter the quantity of visits (use absolute values like 5 or 20 if \"useAbsoluteValues\" \r\n\t\t\t\t//is set, else use a value between 0 and 1). [Quantity of Visits , Size to return]. Linear Interpolation will occur between systems\r\n\t\t\t\tsizeValues: [\r\n\t\t\t\t\t[0,1],[10,10],[20,15],[30,20],[50,25],[100,30],[200,35]\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tconnections:{\r\n\t\tcolor:{\r\n\t\t\tcolorGradient: [0x66000E, 0x07DB00],\r\n\t\t\tminVal: 0,\r\n\t\t\tmaxVal: 100,\r\n\t\t\t//If this is set, maxVal will be overwritten with whatever is the maximum from the logs.\r\n\t\t\tuseMaxValueFromLogsInstead: true\r\n\t\t}\r\n\t}\r\n\r\n};"],"sourceRoot":""}