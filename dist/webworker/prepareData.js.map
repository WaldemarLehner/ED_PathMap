{"version":3,"sources":["webpack:///./src/webworkers/prepareData/main.js","webpack:///./src/webworkers/prepareData/dateOperations.js","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/UI.js","webpack:///./src/configuration/RandomLoadingTexts.js","webpack:///./src/webworkers/prepareData/generateF.js","webpack:///./src/webworkers/prepareData/generateColorsAnSizes.js","webpack:///./src/configuration/drawParameters.js","webpack:///./src/configuration/__DATASOURCE__.js"],"names":["require","moment","jQuery","addToBounds","i","bounds","time","limits","push","module","exports","getDateLimits","url","window","location","href","TypeError","length","Error","validateURL","split","dates","substring","lastIndexOf","console","error","time1","time2","valueOf","reverse","warn","prop","removeClass","daterange_txt","format","val","addDateLimitsToSettingsUI","retArr","unix","log","getIndexDateBounds","data","dateVisited","getBounds","map","./af","./af.js","./ar","./ar-dz","./ar-dz.js","./ar-kw","./ar-kw.js","./ar-ly","./ar-ly.js","./ar-ma","./ar-ma.js","./ar-sa","./ar-sa.js","./ar-tn","./ar-tn.js","./ar.js","./az","./az.js","./be","./be.js","./bg","./bg.js","./bm","./bm.js","./bn","./bn.js","./bo","./bo.js","./br","./br.js","./bs","./bs.js","./ca","./ca.js","./cs","./cs.js","./cv","./cv.js","./cy","./cy.js","./da","./da.js","./de","./de-at","./de-at.js","./de-ch","./de-ch.js","./de.js","./dv","./dv.js","./el","./el.js","./en-SG","./en-SG.js","./en-au","./en-au.js","./en-ca","./en-ca.js","./en-gb","./en-gb.js","./en-ie","./en-ie.js","./en-il","./en-il.js","./en-nz","./en-nz.js","./eo","./eo.js","./es","./es-do","./es-do.js","./es-us","./es-us.js","./es.js","./et","./et.js","./eu","./eu.js","./fa","./fa.js","./fi","./fi.js","./fo","./fo.js","./fr","./fr-ca","./fr-ca.js","./fr-ch","./fr-ch.js","./fr.js","./fy","./fy.js","./ga","./ga.js","./gd","./gd.js","./gl","./gl.js","./gom-latn","./gom-latn.js","./gu","./gu.js","./he","./he.js","./hi","./hi.js","./hr","./hr.js","./hu","./hu.js","./hy-am","./hy-am.js","./id","./id.js","./is","./is.js","./it","./it-ch","./it-ch.js","./it.js","./ja","./ja.js","./jv","./jv.js","./ka","./ka.js","./kk","./kk.js","./km","./km.js","./kn","./kn.js","./ko","./ko.js","./ku","./ku.js","./ky","./ky.js","./lb","./lb.js","./lo","./lo.js","./lt","./lt.js","./lv","./lv.js","./me","./me.js","./mi","./mi.js","./mk","./mk.js","./ml","./ml.js","./mn","./mn.js","./mr","./mr.js","./ms","./ms-my","./ms-my.js","./ms.js","./mt","./mt.js","./my","./my.js","./nb","./nb.js","./ne","./ne.js","./nl","./nl-be","./nl-be.js","./nl.js","./nn","./nn.js","./pa-in","./pa-in.js","./pl","./pl.js","./pt","./pt-br","./pt-br.js","./pt.js","./ro","./ro.js","./ru","./ru.js","./sd","./sd.js","./se","./se.js","./si","./si.js","./sk","./sk.js","./sl","./sl.js","./sq","./sq.js","./sr","./sr-cyrl","./sr-cyrl.js","./sr.js","./ss","./ss.js","./sv","./sv.js","./sw","./sw.js","./ta","./ta.js","./te","./te.js","./tet","./tet.js","./tg","./tg.js","./th","./th.js","./tl-ph","./tl-ph.js","./tlh","./tlh.js","./tr","./tr.js","./tzl","./tzl.js","./tzm","./tzm-latn","./tzm-latn.js","./tzm.js","./ug-cn","./ug-cn.js","./uk","./uk.js","./ur","./ur.js","./uz","./uz-latn","./uz-latn.js","./uz.js","./vi","./vi.js","./x-pseudo","./x-pseudo.js","./yo","./yo.js","./zh-cn","./zh-cn.js","./zh-hk","./zh-hk.js","./zh-tw","./zh-tw.js","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","code","keys","Object","resolve","updateBigText","stringOrUndefined","jokeTexts","t1","text","Math","floor","random","updateSmallText","string","t2","update","createNewConnection","sys1","sys2","connectionMap","name","getConnectionName","count","overrideIfGreater","value","greaterThanThis","name1","name2","toUpperCase","localeCompare","systemMap","json","systems","max","index","element","system","el","coords","x","y","z","maxVisits","iterator","sys","connection","drawInstructions","points","lines","instructions","obj","maxValues","key","hasOwnProperty","color","generateColorsAndSizes","generateColor","size","generatePointSize","position","generatePointInstructions","thisObject","nextObject","nextnextObject","thisConnection","nextConnection","isUndef","generateLineInstructions","connections","definitions","chroma","Interpolate","set1","set2","valpos","isPoint","minmax","def","useMaxValueFromLogsInstead","maxVal","minVal","scale","colorGradient","mode","domain","num","useSizeMapperInstead","sizeDef","sizeMapper","sizeValues","brokeOut","getSizeMapperSize","useAbsoluteValues","min","minSize","maxSize","api","cmdr","undefined","friends","logs","skybox","galplane","ui","focusElement","markers","default"],"mappings":"0HAIaA,EAAQ,KACJA,EAAQ,GACdA,EAAQ,0BCNnB,IAAMC,EAASD,EAAQ,GACjBE,EAASF,EAAQ,GA0EvB,SAASG,EAAYC,EAAEC,EAAOC,EAAKC,GAOlC,OANID,GAAQC,EAAO,IAClBF,EAAOG,KAAKJ,GAETE,GAAQC,EAAO,IAClBF,EAAOG,KAAY,IAANJ,EAAW,EAAIA,EAAI,GAE1BC,EA9ERI,EAAOC,QAAU,CAChBC,cAQD,WACC,IAAIC,EAwEGC,OAAOC,SAASC,KArEvB,GAmCD,SAAqBH,GACpB,GAAmB,iBAARA,EACV,MAAM,IAAII,UAAU,kCAErB,GAAmB,IAAfJ,EAAIK,OACP,MAAM,IAAIC,MAAM,+BA1CjBC,CAAYP,GAEM,KADlBA,EAAMA,EAAIQ,MAAM,IAAI,IACbH,OAEN,OAAO,EAER,IACII,EADST,EAAI,GAAGU,UAAUV,EAAI,GAAGW,YAAY,UAAU,EAAEX,EAAI,GAAGW,YAAY,YAC7DH,MAAM,IAAI,GAC7B,GAAoB,IAAjBC,EAAMJ,OAER,OADAO,QAAQC,MAAM,yDACP,EAoCwBC,EAlCJL,EAAM,GAkCIM,EAlCDN,EAAM,GAmCnCK,EAAME,UAAYD,EAAMC,YAjC/BP,EAAQA,EAAMQ,UACdL,QAAQM,KAAK,4DA+Bf,IAAiCJ,EAAMC,GAvBvC,SAAmCN,GAClCnB,EAAO,kCAAkC6B,KAAK,WAAW,GACzD7B,EAAO,cAAc8B,YAAY,UACjC,IAAIC,EAAiBhC,EAAOoB,EAAM,IAAIa,OAAO,cAAiB,MAAMjC,EAAOoB,EAAM,IAAIa,OAAO,eAC5FhC,EAAO,cAAciC,IAAIF,GAVzBG,CAA0Bf,GAC1B,IAAIgB,EAAS,CAACpC,EAAOqC,KAAKjB,EAAM,IAAIiB,OAAQrC,EAAOqC,KAAKjB,EAAM,IAAIiB,QAElE,OADAd,QAAQe,IAAIF,GACLA,GA7BPG,mBAwCD,SAA4BC,EAAKlC,GAGhC,OAgBD,SAAmBkC,EAAKlC,GAEvB,IADA,IAAIF,EAAS,GACLD,EAAI,EAAEA,EAAEqC,EAAKxB,OAAO,EAAEb,IAAI,CACjC,IAAIE,EAAOL,EAAOwC,EAAKrC,GAAGsC,aAAaJ,OAEvCjC,EAASF,EAAYC,EAAEC,EAAOC,EAAKC,GAEpC,OAAOF,EAxBMsC,CAAUF,EAAMlC,0BChD9B,IAAAqC,EAAA,CACAC,OAAA,EACAC,UAAA,EACAC,OAAA,EACAC,UAAA,EACAC,aAAA,EACAC,UAAA,EACAC,aAAA,EACAC,UAAA,EACAC,aAAA,EACAC,UAAA,EACAC,aAAA,EACAC,UAAA,EACAC,aAAA,EACAC,UAAA,GACAC,aAAA,GACAC,UAAA,EACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,aAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,aAAA,GACAC,gBAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,UAAA,GACAC,aAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,UAAA,GACAC,aAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,aAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,GACAC,UAAA,GACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,YAAA,IACAC,eAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,OAAA,IACAC,UAAA,IACAC,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","file":"/dist/webworker/prepareData.js","sourcesContent":["//This file will probably be executed by a webworker in the background.\r\n\r\n\r\n\r\nconst date = require(\"./dateOperations\");\r\nconst __DATA__ = require(\"../../configuration/__DATASOURCE__\");\r\nconst UI = require(\"../../UI\");\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n *\r\n *\r\n * @param {Array} jsonData An Array that represents the players entire travel log. \r\n */\r\nfunction filterData(jsonData){\r\n\tconst generate = require(\"./generateF\");\r\n\tif(!validateJSON(jsonData)){throw new Error(\"Passed Logs have an unexpected structure.\");}\r\n\tlet indices = date.getIndexDateBounds(jsonData,date.getDateLimits());\r\n\tjsonData = removeDatesOutOfBounds(jsonData,indices);\r\n\t\r\n\t//An Object holdings all Systems with coords, name and amount of visits\r\n\tlet SystemMap = generate.systemMap(jsonData);\r\n\t//An Object holding all connections with name and amount of visits\r\n\tlet ConnectionMap = generate.connectionMap(jsonData);\r\n\tlet maxValues = {systems: SystemMap.max,connections: ConnectionMap.max};\r\n\tSystemMap = SystemMap.map;\r\n\tConnectionMap = ConnectionMap.map;\r\n\t//This will be used to draw the actual data onto the THREE canvas. \r\n\t//It has two objects, \"systems\" and \"connections\" and is fed to\r\n\t//the CanvasInterface to draw the points.\r\n\tlet drawInstructions = generate.drawInstructions(jsonData,SystemMap,ConnectionMap,maxValues);\r\n\tlet data = {\r\n\t\tlogs: jsonData,\r\n\t\tmaps: {\r\n\t\t\tsystems: SystemMap,\r\n\t\t\tconnections: ConnectionMap\r\n\t\t},\r\n\t\tdrawInstructions: drawInstructions\r\n\t};\r\n\tconsole.log(data);\r\n\treturn data;\r\n}\r\n\r\n\r\n/**\r\n * Returns the Array without the data that is not looked at.\r\n *\r\n * @param {Array} array\r\n * @param {number[]} indices\r\n * @returns {Array}\r\n */\r\nfunction removeDatesOutOfBounds(array,indices){\r\n\treturn array.slice(indices[0],indices[1]);\r\n}\r\n\r\n\r\nfunction validateJSON(json){\r\n\tif(typeof json === \"undefined\"){\r\n\t\tthrow new TypeError(\"No argument has been passed. This method needs the logs as object to be passed.\");\r\n\t}\r\n\tif(typeof json !== \"object\"){\r\n\t\tthrow new TypeError(\"Passed argument needs to be typeof object. An object that represents an entry from the logs.\");\r\n\t}\r\n\tif(isObjEmpty(json)){\r\n\t\tthrow new TypeError(\"An empty object has been passed\");\r\n\t}\r\n\tlet isValid = true;\r\n\tjson.forEach(element => {\r\n\t\tif(!isElementValid(element)){\r\n\t\t\tisValid = false;\r\n\t\t}\r\n\t});\r\n\treturn isValid;\r\n}\r\n\r\n\r\nfunction isElementValid(json){\r\n\tif(typeof json === \"undefined\"){\r\n\t\tthrow new TypeError(\"No argument has been passed. This method needs an entry from the logs as object to be passed.\");\r\n\t}else if(typeof json !== \"object\"){\r\n\t\tthrow new TypeError(\"Passed argument needs to be typeof object. An object that represents an entry from the logs.\");\r\n\t}\r\n\tlet retval = true;\r\n\tif(!isNum(json.x) || !isNum(json.y) || !isNum(json.z)) {\r\n\t\tretval = false;\r\n\t}\r\n\tif(typeof json.name !== \"string\"){\r\n\t\tretval = false;\r\n\t}\r\n\tif(typeof json.dateVisited !== \"string\"){\r\n\t\tretval = false;\r\n\t} else if (!isTimeInRightFormat(json.dateVisited)){\r\n\t\tretval = false;\r\n\t}\r\n\treturn retval;\r\n}\r\n/**\r\n\r\n * @param {string} time\r\n */\r\nfunction isTimeInRightFormat(time){\r\n\tif(typeof time !== \"string\"){\r\n\t\treturn false;\r\n\t}\r\n\t//from https://gist.github.com/x-strong/5378739\r\n\tlet regexp = /^(?:(?!0000)[0-9]{4}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)\\s([01][0-9]|2[0-3]):[0-5][0-9]:[0-5][0-9]$/;\r\n\treturn regexp.test(time);\r\n}\r\n\r\nfunction isNum(num){\r\n\treturn typeof num === \"number\" && !isNaN(num);\r\n}\r\n\r\nfunction isObjEmpty(obj) {\r\n\tfor (var key in obj) {\r\n\t\tif (obj.hasOwnProperty(key))\r\n\t\t\treturn false;\r\n\t}\r\n\treturn true;\r\n}","const moment = require(\"moment\");\r\nconst jQuery = require(\"jquery\");\r\n\r\n\r\nmodule.exports = {\r\n\tgetDateLimits: getDateLimits,\r\n\tgetIndexDateBounds: getIndexDateBounds\r\n};\r\n\r\n\r\n/**\r\n * @exports [number,number]\r\n */\r\nfunction getDateLimits(){\r\n\tlet url = getURL();\r\n\tvalidateURL(url);\r\n\turl = url.split(\"?\",2);\r\n\tif(url.length === 1){\r\n\t\t// No Date limiters\r\n\t\treturn false;\r\n\t}\r\n\tlet params = url[1].substring(url[1].lastIndexOf(\"[DATE]\")+6,url[1].lastIndexOf(\"[/DATE]\"));\r\n\tlet dates = params.split(\";\",2);\r\n\tif(dates.length !== 2){\r\n\t\tconsole.error(\"URL is set up incorrect. Ignoring filtering by date.\");\r\n\t\treturn false;\r\n\t}\r\n\tif (isTimeAGreaterThanTimeB(dates[0],dates[1])){\r\n\t\t\r\n\t\tdates = dates.reverse();\r\n\t\tconsole.warn(\"First date was greater than last date. Reversing order.\");\r\n\t}\r\n\taddDateLimitsToSettingsUI(dates);\r\n\tlet retArr = [moment.unix(dates[0]).unix(), moment.unix(dates[1]).unix()];\r\n\tconsole.log(retArr);\r\n\treturn retArr;\r\n\r\n}\r\nfunction addDateLimitsToSettingsUI(dates){\r\n\tjQuery(\"#check_limit_selection > input\").prop(\"checked\", true);\r\n\tjQuery(\"#daterange\").removeClass(\"hidden\");\r\n\tlet daterange_txt = (moment(dates[0]).format(\"YYYY-MM-DD\")) + \" - \"(moment(dates[0]).format(\"YYYY-MM-DD\"));\r\n\tjQuery(\"#daterange\").val(daterange_txt);\r\n}\r\n\r\n\r\nfunction getIndexDateBounds(data,limits){\r\n\t//Get Lower Bound\r\n\tlet retArr = getBounds(data, limits);\r\n\treturn retArr;\r\n}\r\n\r\nfunction validateURL(url){\r\n\tif (typeof url !== \"string\") {\r\n\t\tthrow new TypeError(\"Given URL is not typeof string\");\r\n\t}\r\n\tif (url.length === 0) {\r\n\t\tthrow new Error(\"Given URL string is 0 long.\");\r\n\t}\r\n}\r\n\r\nfunction isTimeAGreaterThanTimeB(time1,time2){\r\n\treturn (time1.valueOf() > time2.valueOf()) ? true : false;\t\r\n}\r\n\r\nfunction getBounds(data,limits) {\r\n\tlet bounds = [];\r\n\tfor(let i = 0;i<data.length-1;i++){\r\n\t\tlet time = moment(data[i].dateVisited).unix();\r\n\t\t//Look for left bound. If true. Left bound found.\r\n\t\tbounds = addToBounds(i,bounds,time,limits);\r\n\t}\r\n\treturn bounds;\r\n}\r\n\r\nfunction addToBounds(i,bounds,time,limits){\r\n\tif (time >= limits[0])\r\n\t\tbounds.push(i);\r\n\r\n\tif (time >= limits[1])\r\n\t\tbounds.push((i === 0) ? 0 : i - 1);\r\n\r\n\treturn bounds;\r\n}\r\n\r\nfunction getURL(){\r\n\treturn window.location.href;\r\n}","var map = {\n\t\"./af\": 3,\n\t\"./af.js\": 3,\n\t\"./ar\": 4,\n\t\"./ar-dz\": 5,\n\t\"./ar-dz.js\": 5,\n\t\"./ar-kw\": 6,\n\t\"./ar-kw.js\": 6,\n\t\"./ar-ly\": 7,\n\t\"./ar-ly.js\": 7,\n\t\"./ar-ma\": 8,\n\t\"./ar-ma.js\": 8,\n\t\"./ar-sa\": 9,\n\t\"./ar-sa.js\": 9,\n\t\"./ar-tn\": 10,\n\t\"./ar-tn.js\": 10,\n\t\"./ar.js\": 4,\n\t\"./az\": 11,\n\t\"./az.js\": 11,\n\t\"./be\": 12,\n\t\"./be.js\": 12,\n\t\"./bg\": 13,\n\t\"./bg.js\": 13,\n\t\"./bm\": 14,\n\t\"./bm.js\": 14,\n\t\"./bn\": 15,\n\t\"./bn.js\": 15,\n\t\"./bo\": 16,\n\t\"./bo.js\": 16,\n\t\"./br\": 17,\n\t\"./br.js\": 17,\n\t\"./bs\": 18,\n\t\"./bs.js\": 18,\n\t\"./ca\": 19,\n\t\"./ca.js\": 19,\n\t\"./cs\": 20,\n\t\"./cs.js\": 20,\n\t\"./cv\": 21,\n\t\"./cv.js\": 21,\n\t\"./cy\": 22,\n\t\"./cy.js\": 22,\n\t\"./da\": 23,\n\t\"./da.js\": 23,\n\t\"./de\": 24,\n\t\"./de-at\": 25,\n\t\"./de-at.js\": 25,\n\t\"./de-ch\": 26,\n\t\"./de-ch.js\": 26,\n\t\"./de.js\": 24,\n\t\"./dv\": 27,\n\t\"./dv.js\": 27,\n\t\"./el\": 28,\n\t\"./el.js\": 28,\n\t\"./en-SG\": 29,\n\t\"./en-SG.js\": 29,\n\t\"./en-au\": 30,\n\t\"./en-au.js\": 30,\n\t\"./en-ca\": 31,\n\t\"./en-ca.js\": 31,\n\t\"./en-gb\": 32,\n\t\"./en-gb.js\": 32,\n\t\"./en-ie\": 33,\n\t\"./en-ie.js\": 33,\n\t\"./en-il\": 34,\n\t\"./en-il.js\": 34,\n\t\"./en-nz\": 35,\n\t\"./en-nz.js\": 35,\n\t\"./eo\": 36,\n\t\"./eo.js\": 36,\n\t\"./es\": 37,\n\t\"./es-do\": 38,\n\t\"./es-do.js\": 38,\n\t\"./es-us\": 39,\n\t\"./es-us.js\": 39,\n\t\"./es.js\": 37,\n\t\"./et\": 40,\n\t\"./et.js\": 40,\n\t\"./eu\": 41,\n\t\"./eu.js\": 41,\n\t\"./fa\": 42,\n\t\"./fa.js\": 42,\n\t\"./fi\": 43,\n\t\"./fi.js\": 43,\n\t\"./fo\": 44,\n\t\"./fo.js\": 44,\n\t\"./fr\": 45,\n\t\"./fr-ca\": 46,\n\t\"./fr-ca.js\": 46,\n\t\"./fr-ch\": 47,\n\t\"./fr-ch.js\": 47,\n\t\"./fr.js\": 45,\n\t\"./fy\": 48,\n\t\"./fy.js\": 48,\n\t\"./ga\": 49,\n\t\"./ga.js\": 49,\n\t\"./gd\": 50,\n\t\"./gd.js\": 50,\n\t\"./gl\": 51,\n\t\"./gl.js\": 51,\n\t\"./gom-latn\": 52,\n\t\"./gom-latn.js\": 52,\n\t\"./gu\": 53,\n\t\"./gu.js\": 53,\n\t\"./he\": 54,\n\t\"./he.js\": 54,\n\t\"./hi\": 55,\n\t\"./hi.js\": 55,\n\t\"./hr\": 56,\n\t\"./hr.js\": 56,\n\t\"./hu\": 57,\n\t\"./hu.js\": 57,\n\t\"./hy-am\": 58,\n\t\"./hy-am.js\": 58,\n\t\"./id\": 59,\n\t\"./id.js\": 59,\n\t\"./is\": 60,\n\t\"./is.js\": 60,\n\t\"./it\": 61,\n\t\"./it-ch\": 62,\n\t\"./it-ch.js\": 62,\n\t\"./it.js\": 61,\n\t\"./ja\": 63,\n\t\"./ja.js\": 63,\n\t\"./jv\": 64,\n\t\"./jv.js\": 64,\n\t\"./ka\": 65,\n\t\"./ka.js\": 65,\n\t\"./kk\": 66,\n\t\"./kk.js\": 66,\n\t\"./km\": 67,\n\t\"./km.js\": 67,\n\t\"./kn\": 68,\n\t\"./kn.js\": 68,\n\t\"./ko\": 69,\n\t\"./ko.js\": 69,\n\t\"./ku\": 70,\n\t\"./ku.js\": 70,\n\t\"./ky\": 71,\n\t\"./ky.js\": 71,\n\t\"./lb\": 72,\n\t\"./lb.js\": 72,\n\t\"./lo\": 73,\n\t\"./lo.js\": 73,\n\t\"./lt\": 74,\n\t\"./lt.js\": 74,\n\t\"./lv\": 75,\n\t\"./lv.js\": 75,\n\t\"./me\": 76,\n\t\"./me.js\": 76,\n\t\"./mi\": 77,\n\t\"./mi.js\": 77,\n\t\"./mk\": 78,\n\t\"./mk.js\": 78,\n\t\"./ml\": 79,\n\t\"./ml.js\": 79,\n\t\"./mn\": 80,\n\t\"./mn.js\": 80,\n\t\"./mr\": 81,\n\t\"./mr.js\": 81,\n\t\"./ms\": 82,\n\t\"./ms-my\": 83,\n\t\"./ms-my.js\": 83,\n\t\"./ms.js\": 82,\n\t\"./mt\": 84,\n\t\"./mt.js\": 84,\n\t\"./my\": 85,\n\t\"./my.js\": 85,\n\t\"./nb\": 86,\n\t\"./nb.js\": 86,\n\t\"./ne\": 87,\n\t\"./ne.js\": 87,\n\t\"./nl\": 88,\n\t\"./nl-be\": 89,\n\t\"./nl-be.js\": 89,\n\t\"./nl.js\": 88,\n\t\"./nn\": 90,\n\t\"./nn.js\": 90,\n\t\"./pa-in\": 91,\n\t\"./pa-in.js\": 91,\n\t\"./pl\": 92,\n\t\"./pl.js\": 92,\n\t\"./pt\": 93,\n\t\"./pt-br\": 94,\n\t\"./pt-br.js\": 94,\n\t\"./pt.js\": 93,\n\t\"./ro\": 95,\n\t\"./ro.js\": 95,\n\t\"./ru\": 96,\n\t\"./ru.js\": 96,\n\t\"./sd\": 97,\n\t\"./sd.js\": 97,\n\t\"./se\": 98,\n\t\"./se.js\": 98,\n\t\"./si\": 99,\n\t\"./si.js\": 99,\n\t\"./sk\": 100,\n\t\"./sk.js\": 100,\n\t\"./sl\": 101,\n\t\"./sl.js\": 101,\n\t\"./sq\": 102,\n\t\"./sq.js\": 102,\n\t\"./sr\": 103,\n\t\"./sr-cyrl\": 104,\n\t\"./sr-cyrl.js\": 104,\n\t\"./sr.js\": 103,\n\t\"./ss\": 105,\n\t\"./ss.js\": 105,\n\t\"./sv\": 106,\n\t\"./sv.js\": 106,\n\t\"./sw\": 107,\n\t\"./sw.js\": 107,\n\t\"./ta\": 108,\n\t\"./ta.js\": 108,\n\t\"./te\": 109,\n\t\"./te.js\": 109,\n\t\"./tet\": 110,\n\t\"./tet.js\": 110,\n\t\"./tg\": 111,\n\t\"./tg.js\": 111,\n\t\"./th\": 112,\n\t\"./th.js\": 112,\n\t\"./tl-ph\": 113,\n\t\"./tl-ph.js\": 113,\n\t\"./tlh\": 114,\n\t\"./tlh.js\": 114,\n\t\"./tr\": 115,\n\t\"./tr.js\": 115,\n\t\"./tzl\": 116,\n\t\"./tzl.js\": 116,\n\t\"./tzm\": 117,\n\t\"./tzm-latn\": 118,\n\t\"./tzm-latn.js\": 118,\n\t\"./tzm.js\": 117,\n\t\"./ug-cn\": 119,\n\t\"./ug-cn.js\": 119,\n\t\"./uk\": 120,\n\t\"./uk.js\": 120,\n\t\"./ur\": 121,\n\t\"./ur.js\": 121,\n\t\"./uz\": 122,\n\t\"./uz-latn\": 123,\n\t\"./uz-latn.js\": 123,\n\t\"./uz.js\": 122,\n\t\"./vi\": 124,\n\t\"./vi.js\": 124,\n\t\"./x-pseudo\": 125,\n\t\"./x-pseudo.js\": 125,\n\t\"./yo\": 126,\n\t\"./yo.js\": 126,\n\t\"./zh-cn\": 127,\n\t\"./zh-cn.js\": 127,\n\t\"./zh-hk\": 128,\n\t\"./zh-hk.js\": 128,\n\t\"./zh-tw\": 129,\n\t\"./zh-tw.js\": 129\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 134;","/* eslint-disable no-console */\r\n\"use strict\";\r\nconst jQuery = require(\"jquery\");\r\n\r\n\r\nmodule.exports = {\r\n\tupdateBigText: updateBigText,\r\n\tupdateSmallText: updateSmallText,\r\n\tupdate: update\r\n};\r\n\r\n\r\n/**\r\n *\r\n * Writes either a given string or a random text to the big loading text \r\n * @param {string|undefined} stringOrUndefined String to display. Dont pass anything to chose a random one.\r\n */\r\nfunction  updateBigText(stringOrUndefined) {\r\n\tconst jokeTexts = require(\"./configuration/RandomLoadingTexts\");\r\n\tlet t1 = jQuery(\"#loader_text_big\");\r\n\tlet text = (typeof stringOrUndefined === \"string\") ? \r\n\t\tstringOrUndefined : \r\n\t\tjokeTexts[Math.floor(Math.random()*jokeTexts.length)];\r\n\tt1.text(text);\r\n}\r\n\r\n\r\n/** \r\n * Updates the Name, Index and Date of a Log Entry to be seen in the UI.\r\n */\r\n//TODO!!! Uncomment when the time is right ;)\r\nfunction update(){}\r\n/*\r\n\r\nfunction update () {\r\n\tconst canvasInterface = require(\"./canvasInterface\");\r\n\tlet count = canvasInterface.getFocusIndex();\r\n\tlet data = canvasInterface.getSystemInFocus();\r\n\tjQuery(\"#nav_sysname\").text(data.name);\r\n\tjQuery(\"#nav_sysdate\").text(data.date);\r\n\tjQuery(\"#nav_systemid\").text(count.toString()+\" / \"+(canvasInterface.getLogList().length-1).toString());\r\n}\r\n*/\r\n\r\n/**\r\n *\r\n * Writes a given string to the small loading text. When given a value that is not a string, nothing will be displayed.\r\n * @param {string} string String to display. \r\n */\r\nfunction updateSmallText(string){\r\n\tlet t2 = jQuery(\"#loader_text_small\");\r\n\tlet text;\r\n\tif(typeof string === \"string\"){\r\n\t\ttext = string;\r\n\t}else{\r\n\t\ttext = \"\";\r\n\t\tconsole.warn(\"No String has been passed to UI.updateText2\");\r\n\t}\r\n\tt2.text(text);\r\n}","module.exports = [\r\n\t\"Friendship Drive charging\",\r\n\t\"Honking ADS\",\r\n\t\"Finding Raxxla\",\r\n\t\"Taking pictures of Asps in front of things\",\r\n\t\"Fuelscooping\",\r\n\t\"Repairing FSD\",\r\n\t\"Hiding the cookie jar\",\r\n\t\"Calling the Fuel Rats\",\r\n\t\"Lithobraking\",\r\n\t\"Looking for an ELW\",\r\n\t\"Supercharging the FSD\"\r\n\t];","module.exports = {\r\n\tsystemMap: systemMap,\r\n\tconnectionMap: connectionMap,\r\n\tdrawInstructions: drawInstructions\r\n};\r\n\r\nfunction systemMap(json){\r\n\tlet systems = {};\r\n\tlet max = 1;\r\n\tfor(let index = 0;index < json.length;index++){\r\n\t\tlet element = json[index];\r\n\t\tlet system = systems[json[index].name];\r\n\t\tif(typeof system !== \"undefined\"){\r\n\t\t\t//Element exists\r\n\t\t\tsystem.count++;\r\n\t\t\tmax = overrideIfGreater(system.count,max);\r\n\t\t}else{\r\n\t\t\t//Create new element\r\n\t\t\tsystem = createNewSystem(element);\r\n\t\t}\r\n\t\tsystems[system.name] = system;\r\n\r\n\t}\r\n\treturn {map: systems,max: max};\r\n\t\r\n}\r\n\r\nfunction createNewSystem(el){\r\n\treturn {\r\n\t\tname: el.name,\r\n\t\tcount : 1,\r\n\t\t//divide all values by 32 because EDSM stores them as Integers. We need floating point numbers though.\r\n\t\tcoords: {\r\n\t\t\tx: el.x / 32,\r\n\t\t\ty: el.y / 32,\r\n\t\t\tz: el.z / 32\r\n\t\t}\r\n\t};\r\n}\r\n\r\n\r\n\r\n\r\nfunction connectionMap(json){\r\n\tlet connectionMap = {};\r\n\tlet maxVisits = 1;\r\n\tfor(let iterator = 0;iterator < json.length-2;iterator++){\r\n\t\t\r\n\t\tlet sys = [json[iterator], json[iterator + 1]];\r\n\t\tlet name = getConnectionName(sys[0].name,sys[1].name);\r\n\t\tlet connection = connectionMap[name];\r\n\t\t//System not in list yet.\r\n\t\tif(typeof connection === \"undefined\"){\r\n\t\t\tcreateNewConnection(sys[0],sys[1],connectionMap);\r\n\t\t}else{\r\n\t\t//System in list already.\r\n\t\t\tconnection.count++;\r\n\t\t\tmaxVisits = overrideIfGreater(connection.count,maxVisits);\r\n\t\t}\r\n\t}\r\n\treturn {map: connectionMap,max: maxVisits};\r\n}\r\nfunction createNewConnection(sys1,sys2,connectionMap){\r\n\tlet name = getConnectionName(sys1.name, sys2.name);\r\n\r\n\tconnectionMap[name] = {\r\n\t\tname: name,\r\n\t\tcount: 1\r\n\t};\r\n\r\n}\r\n\r\nfunction overrideIfGreater(value,greaterThanThis){\r\n\treturn (value > greaterThanThis) ? value : greaterThanThis;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n *\r\n *\r\n * @param {string} name1\r\n * @param {string} name2\r\n * @returns {string} The name that describes the connection between the two given systems.\r\n */\r\nfunction getConnectionName(name1,name2){\r\n\tlet comparision = name1.toUpperCase().localeCompare(name2.toUpperCase());\r\n\tif(comparision === 1){\r\n\t\treturn name1+\":\"+name2;\r\n\t}else{\r\n\t\treturn name2+\":\"+name1;\r\n\t}\r\n\r\n}\r\n\r\nlet generateColorsAndSizes = require(\"./generateColorsAnSizes\");\r\n\r\nfunction drawInstructions(json,points,lines,maxVisits){\r\n\t//An Object w/ 2 Arrays. One for systems, and one for Connections\r\n\r\n\tlet instructions = {};\r\n\tinstructions.points = generatePointInstructions(points,maxVisits.systems);\r\n\tinstructions.lines = generateLineInstructions(json,lines,points,maxVisits.connections);\r\n\treturn instructions;\r\n}\r\n\r\n\r\nfunction generatePointInstructions(obj,maxValues){\r\n\tlet retArr = [];\r\n\tfor(let key in obj){\r\n\t\tif(!obj.hasOwnProperty(key)){continue;}\r\n\t\tlet element = obj[key];\r\n\t\tlet coords = element.coords;\r\n\t\tlet count = element.count;\r\n\r\n\t\tretArr.push({\r\n\t\t\tcolor: generateColorsAndSizes.generateColor(count,true,maxValues),\r\n\t\t\tsize: generateColorsAndSizes.generatePointSize(count,maxValues),\r\n\t\t\tposition: coords\r\n\t\t});\r\n\r\n\t}\r\n\treturn retArr;\r\n}\r\n/**\r\n *\r\n *\r\n * @param {[]} json\r\n * @param {object} obj\r\n * @param {number} maxValues\r\n */\r\nfunction generateLineInstructions(json,lines,points,maxValues){\r\n\tlet retArr = [];\r\n\tfor(let iterator = 0;iterator<json.length-2; iterator++){\r\n\t\t/*\r\n\t\t*\tFor Each Connection, check if next connection has the same visitCount.\r\n\t\t*\tIf not, create a new point first with the next connections color. This is to ensure that there is no color change inside a connection\r\n\t\t*/\r\n\t\tlet thisObject = json[iterator],nextObject = json[iterator+1],nextnextObject = json[iterator+2];\r\n\t\t//Check if this connection and the next connection have the same count of travels. If yes, there is no need to add another vertex inbetween.\r\n\t\tlet thisConnection = lines[getConnectionName(thisObject.name,nextObject.name)];\r\n\t\tlet nextConnection = lines[getConnectionName(nextObject.name,nextnextObject.name)];\r\n\t\t//The next connection will have the same color → No need to add a vertex inbetween. Only add the first Point of the connection\r\n\t\tif(isUndef(thisConnection) || isUndef(nextConnection)){\r\n\t\t\t//Connection does not exist. Skip\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tlet color = generateColorsAndSizes.generateColor(thisConnection.count,false,maxValues);\r\n\t\tlet position = points[thisObject.name].coords;\r\n\t\tretArr.push({color:color,coords:position});\r\n\t\tif (thisConnection.count !== nextConnection.count){\r\n\t\t\tlet color = generateColorsAndSizes.generateColor(nextConnection.count,false,maxValues);\r\n\t\t\tretArr.push({color:color,coords:points[nextObject.name].coords});\r\n\t\t}\r\n\t\tif(iterator === json.length-2){\r\n\t\t\t//Last loop.\r\n\t\t\t//Add the last connection\r\n\t\t\tlet color = generateColorsAndSizes.generateColor(nextConnection);\r\n\t\t\tretArr.push(\r\n\t\t\t\t{color:color,coords:points[nextObject.name].coords},\r\n\t\t\t\t{color:color,coords:points[nextnextObject.name].coords}\r\n\t\t\t);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\treturn retArr;\r\n}\r\n\r\nfunction isUndef(el){\r\n\treturn typeof el === \"undefined\";\r\n}","let definitions = require(\"../../configuration/drawParameters\");\r\nlet chroma = require(\"chroma-js\");\r\nmodule.exports = {generateColor:generateColor,generatePointSize:generatePointSize};\r\n\r\n\r\nfunction generateColor(value,isPoint,maxVisits){\r\n\tlet minmax = [];\r\n\tlet def = (isPoint) ? definitions.systems.color : definitions.connections.color;\r\n\tminmax[1] = (def.useMaxValueFromLogsInstead) ? maxVisits : def.maxVal;\r\n\tminmax[0] = def.minVal;\r\n\tlet color = chroma.scale(def.colorGradient).mode(\"lab\").domain(minmax[0],minmax[1]);\r\n\treturn color(value).num();\r\n}\r\n\r\nfunction generatePointSize(value,maxVisits){\r\n\tlet def = definitions.systems.size;\r\n\t\r\n\tif(def.useSizeMapperInstead){\r\n\t\treturn getSizeMapperSize((def.sizeMapper.useAbsoluteValues)?value:value/maxVisits);\r\n\t}else{\r\n\t\tlet min = def.minSize,max = def.maxSize;\r\n\t\treturn Interpolate(value,[0,maxVisits],[min,max]);\r\n\t\t\r\n\t}\r\n}\r\n\r\n/**\r\n *\r\n *\r\n * @param {number} expects a number between 0 and 1 if useAbsoluteValues is off and a value > 0 if it is on.\r\n */\r\nfunction getSizeMapperSize(value){\r\n\tlet sizeDef = definitions.systems.size.sizeMapper.sizeValues;\r\n\tlet index = 0;\r\n\tlet brokeOut = false;\r\n\tfor(index;index < sizeDef.length;index++){\r\n\t\tif(sizeDef[index][0] >= value){\r\n\t\t\tbrokeOut = true;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\t//Extremas\r\n\tif(!brokeOut){\r\n\t\treturn sizeDef[sizeDef.length-1][1];\r\n\t}\r\n\tif(index === 0){\r\n\t\treturn sizeDef[0][1];\r\n\t}\r\n\t//Interpolate \r\n\treturn Interpolate(value, [sizeDef[index - 1][0], sizeDef[index][0]], [sizeDef[index - 1][1], sizeDef[index][1]]);\r\n}\r\n\r\n/**\r\n *Interpolate value between set1 and apply the value onto set2.\r\n * @param {number} value\r\n * @param {number[]} set1 -> consists of 2 numbers\r\n * @param {number[]} set2 -> consists of 2 numbers\r\n */\r\nfunction Interpolate(value,set1,set2){\r\n\tif(value <= set1[0]){return set2[0];}\r\n\tif(value >= set1[1]){return set2[1];}\r\n\t//Values position between the two values in set1 (0 -> at index 0 || 1 -> at index 1)\r\n\tlet valpos = (value-set1[0])/(set1[1]-set1[0]);\r\n\treturn set2[0]+(set2[1]-set2[0])*valpos;\r\n}","//This is the configuration which determines how systems and connections are drawn on the map.\r\n\r\nmodule.exports = {\r\n\tsystems:{\r\n\t\tcolor:{\r\n\t\t\tcolorGradient: [0x66000E,0x07DB00], \r\n\t\t\tminVal: 0,\r\n\t\t\tmaxVal: 100,\r\n\t\t\t//If this is set, maxVal will be overwritten with whatever is the maximum from the logs.\r\n\t\t\tuseMaxValueFromLogsInstead: true\r\n\t\t},\r\n\t\tsize:{\r\n\t\t\tminSize: 1,\r\n\t\t\tmaxSize: 10,\r\n\t\t\t//If this is true, the more complex SizeMapper will be used instead\r\n\t\t\tuseSizeMapperInstead: true,\r\n\t\t\tsizeMapper: {\r\n\t\t\t\t//This will expect the actual visits (for example 92) rather than a value between 0 and 1\r\n\t\t\t\tuseAbsoluteValues: true,\r\n\t\t\t\t//Here you enter the quantity of visits (use absolute values like 5 or 20 if \"useAbsoluteValues\" \r\n\t\t\t\t//is set, else use a value between 0 and 1). [Quantity of Visits , Size to return]. Linear Interpolation will occur between systems\r\n\t\t\t\tsizeValues: [\r\n\t\t\t\t\t[0,1],[10,10],[20,15],[30,20],[50,25],[100,30],[200,35]\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tconnections:{\r\n\t\tcolor:{\r\n\t\t\tcolorGradient: [0x66000E, 0x07DB00],\r\n\t\t\tminVal: 0,\r\n\t\t\tmaxVal: 100,\r\n\t\t\t//If this is set, maxVal will be overwritten with whatever is the maximum from the logs.\r\n\t\t\tuseMaxValueFromLogsInstead: true\r\n\t\t}\r\n\t}\r\n\r\n};","module.exports = {\r\n//Replace undefined with a URL pointing to the ressource folder / api endpoint to override the default parameter. For example cmdr: \"http://\"\r\n\tapi: {\r\n\t\tcmdr: undefined,\r\n\t\tfriends: undefined,\r\n\t\tlogs: undefined\r\n\t},\r\n\tskybox: undefined,\r\n\tgalplane: undefined,\r\n\tui: {\r\n\t\tfocusElement: undefined,\r\n\t\tmarkers: undefined\r\n\t},\r\n\tdefault: (typeof window !== \"undefined\" )?(window.location.href).split(\"?\")[0]:undefined\r\n};"],"sourceRoot":""}