{"version":3,"sources":["webpack:///./src/index.js","webpack:///./src/configuration/__DATASOURCE__.js","webpack:///./src/webworkers/callBackHandler.js","webpack:///./src/webworkers/initWebWorkers.js","webpack:///./src/webworkers/prepareData/main.js?66b3"],"names":["jQuery","require","__DATA__","document","ready","ajax","url","api","logs","error","success","data","workerCallbacks","preparationWorker","postMessage","json","window","location","href","module","exports","cmdr","undefined","friends","skybox","galplane","ui","focusElement","markers","default","split","setPreparedData","console","log","logError","userInterface","arrayOfCommands","arr","Array","isArray","forEach","el","cmd","validateArray","UI","params","pathToWebWorkerScript","callback","worker","addEventListener","msg","Worker","__webpack_require__","p"],"mappings":"mHAEA,IAAMA,EAASC,EAAQ,KACjBC,EAAWD,EAAQ,KAIzBD,EAAOG,UAAUC,MAAM,WACtBJ,EAAO,WACNA,EAAOK,KAAK,CACXC,SAAmC,IAAtBJ,EAASK,IAAIC,KAAwBN,EAAQ,QAAW,qBAAuBA,EAASK,IAAIC,KACzGC,MAAO,WAAQ,KAAM,gFACrBC,QAAS,SAAAC,GACR,IAAMC,EAAkBX,EAAQ,KACNA,EAAQ,KAGCY,kBAAkB,4BAA4BD,EAAgB,gBACtFE,YAAY,CAACC,KAAKJ,EAAKL,IAAIU,OAAOC,SAASC,iCClB1DC,EAAOC,QAAU,CAEhBb,IAAK,CACJc,UAAMC,EACNC,aAASD,EACTd,UAAMc,GAEPE,YAAQF,EACRG,cAAUH,EACVI,GAAI,CACHC,kBAAcL,EACdM,aAASN,GAEVO,QAA4B,oBAAXb,OAA0BA,OAAOC,SAASC,KAAMY,MAAM,KAAK,QAAGR,sBCqChF,SAASS,EAAgBpB,GACxBqB,QAAQC,IAAI,wCAAwCtB,GAGrD,SAASuB,EAASvB,GACjBqB,QAAQvB,MAAM,yCAAyCE,GAGxD,SAASwB,EAAcxB,GACtBqB,QAAQC,IAAI,sCAAuCtB,GA7CpDQ,EAAOC,QAAU,SAACgB,IAelB,SAAuBC,GACtB,IAAIC,MAAMC,QAAQF,GACjB,KAAM,sEAEPA,EAAIG,QAAQ,SAACC,GACZ,GAAqB,iBAAXA,EAAGC,IACZ,KAAM,0CApBRC,CAAcP,GACdA,EAAgBI,QAAQ,SAACC,GACxB,IAAIC,EAyBU,CACdX,gBAAkBA,EAClBtB,MAAOyB,EACPU,GAAIT,GA5ByBM,EAAGC,KACd,mBAARA,EACTA,EAAID,EAAGI,QAEPb,QAAQvB,MAAM,8BAA+BgC,2BClBhDtB,EAAOC,QAAU,CAChBP,kBAID,SAA2BiC,EAAsBC,GAGhD,IAAIC,EAAS,IAAI/C,EAAQ,IAAZ,GAUb,OATA+C,EAAOC,iBAAiB,UAAU,SAASC,GAC1CH,EAASG,KACR,GACFF,EAAOC,iBAAiB,QAAQ,SAASC,GACxCH,EAAS,CAAC,CACTL,IAAI,QACJG,OAAQK,OAER,GACKF,yBCrBR7B,EAAAC,QAAA,WACA,WAAA+B,OAAoBC,EAAAC,EAAuB","file":"/index.js","sourcesContent":["/* eslint-disable no-console */\r\n//const THREE = require(\"three\");\r\nconst jQuery = require(\"jquery\");\r\nconst __DATA__ = require(\"./configuration/__DATASOURCE__\");\r\n\r\n\r\n//When document is ready\r\njQuery(document).ready(function(){\r\n\tjQuery(() => {\r\n\t\tjQuery.ajax({\r\n\t\t\turl: (typeof __DATA__.api.logs === \"undefined\") ? __DATA__.default + \"src/data/logs.json\" : __DATA__.api.logs,\r\n\t\t\terror: () => { throw \"Failed to get the Travel History from EDSM. Please submit an Issue on Github\"; },\r\n\t\t\tsuccess: data => {\r\n\t\t\t\tconst workerCallbacks = require(\"./webworkers/callBackHandler\");\r\n\t\t\t\tconst workerPreperation = require(\"./webworkers/initWebWorkers\");\r\n\t\t\t\t//UI.updateBigText();\r\n\t\t\t\t//UI.updateSmallText(\"Processing travel history\");\r\n\t\t\t\tlet prepWorker = workerPreperation.preparationWorker(\"webworkers/prepareData.js\",workerCallbacks,\"LogsPreparer\");\r\n\t\t\t\tprepWorker.postMessage({json:data,url:window.location.href});\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n});\r\n\r\n\r\n//const _FrontEnd = require(\"./frontend/main\");\r\n","module.exports = {\r\n//Replace undefined with a URL pointing to the ressource folder / api endpoint to override the default parameter. For example cmdr: \"http://\"\r\n\tapi: {\r\n\t\tcmdr: undefined,\r\n\t\tfriends: undefined,\r\n\t\tlogs: undefined\r\n\t},\r\n\tskybox: undefined,\r\n\tgalplane: undefined,\r\n\tui: {\r\n\t\tfocusElement: undefined,\r\n\t\tmarkers: undefined\r\n\t},\r\n\tdefault: (typeof window !== \"undefined\" )?(window.location.href).split(\"?\")[0]:undefined\r\n};","//This module handles the callbacks from \r\n\r\n/*\r\n*\tCommand Structure:\r\n*\tcmd: command name. The command to execure\r\n*\tparams: the parameters\r\n*\r\n*/\r\n\r\n/* CMD LIST (cmd | params)\r\n* setPreparedData | data-object\r\n*\r\n*/\r\n\r\nmodule.exports = (arrayOfCommands) => {\r\n\tvalidateArray(arrayOfCommands);\r\n\tarrayOfCommands.forEach((el)=>{\r\n\t\tlet cmd = getCommandByString(el.cmd);\r\n\t\tif(typeof cmd === \"function\"){\r\n\t\t\tcmd(el.params);\r\n\t\t}else{\r\n\t\t\tconsole.error(\"Could not find the command.\", el);\r\n\t\t}\r\n\t});\r\n};\r\n\r\n/**\r\n * @param {Array} arr\r\n */\r\nfunction validateArray(arr){\r\n\tif(!Array.isArray(arr)){\r\n\t\tthrow \"This function expects an Array of Objects {cmd: string, param: any}\";\r\n\t}\r\n\tarr.forEach((el)=>{\r\n\t\tif(typeof el.cmd !== \"string\"){\r\n\t\t\tthrow \"The Command needs to be typeof String\";\r\n\t\t} \r\n\t});\r\n\treturn true;\r\n}\r\n\r\nfunction getCommandByString(string){\r\n\tlet commands = {\r\n\t\tsetPreparedData : setPreparedData,\r\n\t\terror: logError,\r\n\t\tUI: userInterface\r\n\t};\r\n\treturn commands[string];\r\n}\r\n\r\nfunction setPreparedData(data){\r\n\tconsole.log(\"setPreparedDate has been called with:\",data);\r\n}\r\n\r\nfunction logError(data){\r\n\tconsole.error(\"One of the Webworkers sent this Error:\",data);\r\n}\r\n\r\nfunction userInterface(data){\r\n\tconsole.log(\"userInterface has been called with:\", data);\r\n}","\r\n\r\n\r\nmodule.exports = {\r\n\tpreparationWorker: preparationWorker\r\n\t\r\n};\r\n\r\nfunction preparationWorker(pathToWebWorkerScript,callback){\r\n\r\n\t//let worker = (typeof name === \"string\")? new Worker(pathToWebWorkerScript,{name:name}) :new Worker(pathToWebWorkerScript);\r\n\tlet worker = new require(\"worker-loader!./prepareData/main.js\")();\r\n\tworker.addEventListener(\"message\",function(msg){\r\n\t\tcallback(msg);\r\n\t},false);\r\n\tworker.addEventListener(\"error\",function(msg){\r\n\t\tcallback([{\r\n\t\t\tcmd:\"error\",\r\n\t\t\tparams: msg\r\n\t\t}]);\r\n\t},false);\r\n\treturn worker;\r\n}","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"7fda8dd3f47da92f8803.worker.js\");\n};"],"sourceRoot":""}